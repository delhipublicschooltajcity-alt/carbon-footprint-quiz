/* =========================================================
   RESET & BASE
   ========================================================= */
* { box-sizing: border-box; }
html, body { margin: 0; padding: 0; min-height: 100%; }
body {
  font-family: 'DM Sans', ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial;
  color: #eaf2ff;
  background: #070b18;
  line-height: 1.5;
}

/* =========================================================
   BACKGROUND GLOW
   ========================================================= */
.bgGlow {
  position: fixed; inset: 0;
  pointer-events: none !important;
  z-index: -1 !important;
  background:
    radial-gradient(900px 500px at 15% 15%, rgba(105,150,255,.20), transparent 55%),
    radial-gradient(800px 500px at 85% 20%, rgba(100,255,200,.14), transparent 60%),
    radial-gradient(900px 650px at 45% 90%, rgba(255,160,120,.12), transparent 55%);
}

/* =========================================================
   APP SHELL
   ========================================================= */
.app {
  max-width: 980px;
  margin: 0 auto;
  padding: 18px 16px 36px;
  position: relative; z-index: 1;
}

/* =========================================================
   HEADER
   ========================================================= */
.header { padding: 8px 2px 16px; }
.brand { display: flex; align-items: center; gap: 14px; }
.header h1 { margin: 0; font-weight: 800; letter-spacing: .2px; font-size: 1.35rem; }
.header .sub { margin: 6px 0 0; opacity: .85; font-size: .98rem; }

.appIconWrap {
  width: 56px; height: 56px; flex: 0 0 56px;
  border-radius: 14px; overflow: hidden;
  background: rgba(255,255,255,0.08);
  display: flex; align-items: center; justify-content: center;
}
.appIcon { width: 100%; height: 100%; object-fit: contain; display: block; padding: 6px; }

/* =========================================================
   CARD
   ========================================================= */
.card {
  background: rgba(255,255,255,0.06);
  border: 1px solid rgba(255,255,255,0.10);
  border-radius: 18px; padding: 18px;
  backdrop-filter: blur(10px);
  box-shadow: 0 18px 40px rgba(0,0,0,0.35);
}

/* =========================================================
   TYPOGRAPHY
   ========================================================= */
h2 { margin: 0 0 10px; font-size: 1.25rem; font-weight: 800; }
h3 { margin: 0 0 10px; font-size: 1.08rem; font-weight: 800; }

.hint { margin: 0 0 14px; opacity: .9; line-height: 1.35; }
.muted { margin-left: 8px; opacity: .75; font-size: .92em; }

/* =========================================================
   FORM
   ========================================================= */
.grid { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; }
label {
  display: flex; flex-direction: column; gap: 6px;
  font-size: .92rem; opacity: .95; font-weight: 600;
}
label.full { grid-column: 1 / -1; }

input, select {
  padding: 12px; border-radius: 12px;
  border: 1px solid rgba(255,255,255,0.14);
  background: rgba(0,0,0,0.25); color: #eaf2ff; outline: none;
  font-family: inherit; font-size: .95rem;
  transition: border-color .2s;
  -webkit-appearance: none;
  appearance: none;
}
select {
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='8' viewBox='0 0 12 8'%3E%3Cpath d='M1 1l5 5 5-5' stroke='%23eaf2ff' stroke-width='1.5' fill='none' stroke-linecap='round'/%3E%3C/svg%3E");
  background-repeat: no-repeat;
  background-position: right 14px center;
  padding-right: 36px;
  cursor: pointer;
}
select option {
  background: #141a2e;
  color: #eaf2ff;
}
input:focus, select:focus { border-color: rgba(83,255,192,.55); }
input::placeholder { opacity: .55; }

.row { margin-top: 14px; display: flex; gap: 10px; }

/* =========================================================
   BUTTONS
   ========================================================= */
.btn {
  border: 0; padding: 12px 20px; border-radius: 14px;
  font-weight: 700; cursor: pointer; font-family: inherit; font-size: .95rem;
  background: linear-gradient(135deg, rgba(116,185,255,.95), rgba(83,255,192,.85));
  color: #07101c;
  box-shadow: 0 10px 24px rgba(0,0,0,0.35);
  transition: transform .15s, opacity .15s;
}
.btn:hover:not(:disabled) { transform: translateY(-1px); }
.btn:active:not(:disabled) { transform: translateY(0); }
.btn:disabled { opacity: .45; cursor: not-allowed; }
.btn.ghost {
  background: rgba(255,255,255,0.08);
  color: #eaf2ff;
  border: 1px solid rgba(255,255,255,0.16);
  box-shadow: none;
}
.btn.ghost:hover:not(:disabled) { background: rgba(255,255,255,0.12); }

/* =========================================================
   QUIZ STEP
   ========================================================= */
.toprow { display: flex; justify-content: space-between; gap: 14px; align-items: flex-start; }
.pill {
  display: inline-block; padding: 6px 12px; border-radius: 999px;
  background: rgba(255,255,255,0.10);
  border: 1px solid rgba(255,255,255,0.14);
  font-weight: 700; font-size: .92rem; margin-bottom: 8px;
}
.qtitle { font-size: 1.22rem; font-weight: 800; line-height: 1.25; }
.qsub { margin-top: 6px; opacity: .86; font-size: .96rem; }

.progress { min-width: 160px; text-align: right; }
.bar {
  height: 9px; border-radius: 999px;
  background: rgba(255,255,255,0.10); overflow: hidden;
  border: 1px solid rgba(255,255,255,0.12);
}
.fill {
  height: 100%; width: 0%;
  background: linear-gradient(90deg, rgba(116,185,255,.95), rgba(83,255,192,.85));
  transition: width .4s ease;
}
.pct { margin-top: 8px; font-size: .9rem; opacity: .85; }

.options { margin-top: 14px; display: flex; flex-direction: column; gap: 14px; }

.qblock {
  padding: 12px; border-radius: 14px;
  border: 1px solid rgba(255,255,255,0.14);
  background: rgba(0,0,0,0.14);
}
.qblockTitle { font-weight: 800; margin-bottom: 10px; }
.qblockOptions { display: flex; flex-direction: column; gap: 10px; }

.opt {
  padding: 12px; border-radius: 14px;
  border: 1px solid rgba(255,255,255,0.14);
  background: rgba(0,0,0,0.18); cursor: pointer;
  transition: border-color .2s, background .2s;
}
.opt:hover { border-color: rgba(255,255,255,0.3); }
.opt.selected {
  border-color: rgba(83,255,192,.55);
  background: rgba(83,255,192,0.10);
}
.o1 { font-weight: 700; }

.nav { margin-top: 14px; display: flex; justify-content: space-between; gap: 12px; }

/* =========================================================
   RESULTS PAGE â€” Clean Layout
   ========================================================= */
.result-hero {
  text-align: center;
  padding: 20px 14px 16px;
  margin-bottom: 16px;
  border-radius: 16px;
  background: rgba(0,0,0,0.18);
  border: 1px solid rgba(255,255,255,0.10);
}
.hero-badge { font-size: 1.5rem; font-weight: 900; }
.hero-sub { margin-top: 6px; opacity: .86; line-height: 1.35; font-size: .98rem; }

.score-gauge-section {
  padding: 16px;
  border-radius: 16px;
  background: rgba(0,0,0,0.14);
  border: 1px solid rgba(255,255,255,0.10);
  margin-bottom: 14px;
  text-align: center;
}
.gauge-label { font-weight: 800; opacity: .9; margin-bottom: 4px; }
.gauge-big { font-size: 2rem; font-weight: 900; color: #53ffc0; margin: 4px 0; }
.gauge-note { opacity: .65; font-size: .85rem; margin-bottom: 12px; }
.gauge-meter { max-width: 420px; margin: 0 auto; }
.gauge-track {
  height: 12px; border-radius: 999px;
  background: linear-gradient(90deg, #48db97 0%, #48db97 33%, #ffc148 33%, #ffc148 62%, #ff5858 62%, #ff5858 100%);
  overflow: hidden; position: relative;
  border: 1px solid rgba(255,255,255,0.12);
}
.gauge-fill {
  position: absolute; top: -2px; width: 6px; height: 16px;
  background: #fff; border-radius: 3px;
  box-shadow: 0 0 8px rgba(255,255,255,.7);
  transition: left .6s ease;
}
.gauge-scale {
  display: flex; justify-content: space-between;
  margin-top: 4px; opacity: .6; font-size: .78rem;
}

.compare-section {
  padding: 14px; border-radius: 16px;
  background: rgba(0,0,0,0.14);
  border: 1px solid rgba(255,255,255,0.10);
  margin-bottom: 14px;
}
.compareTitle { font-weight: 900; margin-bottom: 8px; }

.cbar { display: grid; grid-template-columns: 90px 1fr 55px; gap: 10px; align-items: center; margin-top: 10px; }
.cbarName { opacity: .9; font-size: .9rem; }
.cbarTrack {
  height: 10px; border-radius: 999px;
  background: rgba(255,255,255,0.10); overflow: hidden;
  border: 1px solid rgba(255,255,255,0.10);
}
.cbarFill {
  height: 100%; width: 0%;
  background: linear-gradient(90deg, rgba(116,185,255,.95), rgba(83,255,192,.85));
  transition: width .6s ease;
}
.cbarVal { text-align: right; opacity: .9; font-size: .9rem; }

.breakdown-section { margin-bottom: 14px; }
.arenaScores {
  display: grid; grid-template-columns: repeat(auto-fill, minmax(180px, 1fr)); gap: 10px;
}
.box {
  padding: 14px; border-radius: 14px;
  border: 1px solid rgba(255,255,255,0.12);
  background: rgba(0,0,0,0.14);
}
.box .k { opacity: .9; font-weight: 900; font-size: .95rem; }
.box .co2 { margin-top: 6px; font-size: 1.15rem; font-weight: 900; }
.box .kg { margin-top: 2px; opacity: .75; font-size: .85rem; }
.box .tag { margin-top: 6px; opacity: .9; font-weight: 800; font-size: .9rem; }
.box .area-bar { margin-top: 8px; height: 6px; border-radius: 999px; background: rgba(255,255,255,0.10); overflow: hidden; }
.box .area-bar-fill { height: 100%; border-radius: 999px; transition: width .5s ease; }

.result-status {
  display: inline-flex; align-items: center; gap: 8px;
  padding: 10px 20px; border-radius: 14px;
  font-weight: 800; font-size: 1.05rem;
  margin-top: 12px; line-height: 1.4;
}
.result-status .dot { width: 12px; height: 12px; border-radius: 50%; flex-shrink: 0; }

.result-safe { background: rgba(72,219,151,0.12); color: #48db97; border: 1px solid rgba(72,219,151,0.3); }
.result-safe .dot { background: #48db97; box-shadow: 0 0 8px rgba(72,219,151,.5); }
.result-warning { background: rgba(255,193,72,0.12); color: #ffc148; border: 1px solid rgba(255,193,72,0.3); }
.result-warning .dot { background: #ffc148; box-shadow: 0 0 8px rgba(255,193,72,.5); }
.result-alarming { background: rgba(255,88,88,0.12); color: #ff5858; border: 1px solid rgba(255,88,88,0.3); }
.result-alarming .dot { background: #ff5858; box-shadow: 0 0 8px rgba(255,88,88,.5); animation: pulse-dot 1.8s ease infinite; }

.insights {
  margin-bottom: 14px; padding: 14px; border-radius: 16px;
  border: 1px solid rgba(255,255,255,0.12);
  background: rgba(0,0,0,0.14);
}
.recText p { margin: 8px 0; }
.recText ul { margin: 8px 0 8px 18px; }
.recText li { margin: 6px 0; }

.actions { margin-top: 12px; display: flex; gap: 10px; flex-wrap: wrap; }
.status { margin-top: 10px; opacity: .9; }

/* =========================================================
   LEADERBOARD
   ========================================================= */
.lb-section {
  margin-top: 24px;
  padding-top: 20px;
  border-top: 1px solid rgba(255,255,255,0.10);
}
.lb-section h3 { font-size: 1.15rem; margin-bottom: 14px; }

.leaderboard { display: flex; flex-direction: column; gap: 10px; }

.lbrow {
  display: grid;
  grid-template-columns: 48px 1fr auto 140px;
  gap: 10px; align-items: center;
  padding: 12px 14px; border-radius: 14px;
  border: 1px solid rgba(255,255,255,0.12);
  background: rgba(0,0,0,0.12);
  transition: background .2s;
}
.lbrow:hover { background: rgba(255,255,255,0.04); }

.lbrow .rank { font-weight: 900; font-size: 1.1rem; text-align: center; }
.lbrow .info .name { font-weight: 800; }
.lbrow .info .detail { opacity: .85; font-size: .92em; margin-top: 2px; }

.status-badge {
  display: inline-flex; align-items: center; gap: 5px;
  padding: 5px 12px; border-radius: 999px;
  font-weight: 700; font-size: .82rem;
  white-space: nowrap; letter-spacing: .02em;
}
.status-badge .dot { width: 8px; height: 8px; border-radius: 50%; flex-shrink: 0; }

.status-safe { background: rgba(72,219,151,0.15); color: #48db97; border: 1px solid rgba(72,219,151,0.3); }
.status-safe .dot { background: #48db97; box-shadow: 0 0 6px rgba(72,219,151,.6); }
.status-warning { background: rgba(255,193,72,0.15); color: #ffc148; border: 1px solid rgba(255,193,72,0.3); }
.status-warning .dot { background: #ffc148; box-shadow: 0 0 6px rgba(255,193,72,.6); }
.status-alarming { background: rgba(255,88,88,0.15); color: #ff5858; border: 1px solid rgba(255,88,88,0.3); }
.status-alarming .dot { background: #ff5858; box-shadow: 0 0 6px rgba(255,88,88,.6); animation: pulse-dot 1.8s ease infinite; }

@keyframes pulse-dot {
  0%, 100% { opacity: 1; transform: scale(1); }
  50% { opacity: .6; transform: scale(1.3); }
}

.lbrow .co2val { text-align: right; }
.lbrow .co2val b { font-size: 1rem; }
.lbrow .co2val .sub { opacity: .85; font-size: .85em; }

.no-data { text-align: center; padding: 24px; opacity: .7; }
.lb-loading { text-align: center; padding: 18px; opacity: .7; font-size: .92rem; }

/* =========================================================
   RESPONSIVE
   ========================================================= */
@media (max-width: 740px) {
  .grid { grid-template-columns: 1fr; }
  label.full { grid-column: auto; }
  .arenaScores { grid-template-columns: 1fr 1fr; }
  .lbrow { grid-template-columns: 40px 1fr auto 110px; gap: 8px; padding: 10px; }
}

@media (max-width: 480px) {
  .arenaScores { grid-template-columns: 1fr; }
  .lbrow { grid-template-columns: 36px 1fr; gap: 6px; }
  .lbrow .status-badge { grid-column: 1 / -1; justify-self: start; }
  .lbrow .co2val { grid-column: 1 / -1; text-align: left; }
}
